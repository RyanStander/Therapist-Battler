<style type="text/css" media="screen">table{border-collapse:collapse;border:1px solid #000000;}table td{border:1px solid #000000;}</style><h2 id="datasender"><code>DataSender</code></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode csharp"><code class="sourceCode cs"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> UnityConnector.<span class="fu">DataSender</span></span></code></pre></div>
<p>Methods</p>
<table>
</colgroup>
<thead>
<tr class="header">
<th>Type</th>
<th>Name</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Single[]</code></td>
<td>getAvatarSegmentRotations()</td>
<td>Get the rotations (quaternions) of the avatar’s segments <br /> returns quaternions as a list of floats; quaternion order: (w, x, y, z)</td>
</tr>
<tr class="even">
<td><code>Single[]</code></td>
<td>getInvertedAvatarSegmentRotations()</td>
<td>Get the inverted rotations (quaternions) of the avatar’s segments: <br /> inv = rotation * inv(initialRotation); result = (w, -x, -z, -y)</td>
</tr>
<tr class="odd">
<td><code>Single[]</code></td>
<td>getInvertedShadowAvatarSegmentRotations()</td>
<td>Get the inverted rotations (quaternions) of the shadow avatar’s segments: <br /> inv = rotation * inv(initialRotation); result = (w, -x, -z, -y)</td>
</tr>
<tr class="even">
<td><code>Single[]</code></td>
<td>getShadowAvatarSegmentRotations()</td>
<td>Get the rotations (quaternions) of the shadow avatar’s segments<br /> returns quaternions as a list of floats; quaternion order: (w, x, y, z)</td>
</tr>
<tr class="odd">
<td><code>Int32</code></td>
<td>initConnections(<code>String</code> ipAddr, <code>Int32</code> segmentPort, <code>Int32</code> shadowPort, <code>Int32</code> commandPort)</td>
<td>init connection with instant avatar (default: localhost, 4242, 4244, 4243)<br /></td>
</tr>
<tr class="even">
<td><code>void</code></td>
<td>reconnect()</td>
<td>Request reconnection to the Unity InstantAvatar using last known (default) ip address and ports</td>
</tr>
<tr class="odd">
<td><code>Int32</code></td>
<td>sendAvatarSegmentRotations(<code>Single[]</code> segment_floats)</td>
<td>send to the avatar new rotations (quaternions) to the initialized segments as list of floats; length of the array must be the 4 * the number of initialized segments; expected quaternion order: (w, x, y, z)</td>
</tr>
<tr class="even">
<td><code>Int32</code></td>
<td>sendCommand(<code>String</code> message)</td>
<td>send command to avatar. Message options:<br /><code>camera,position</code> where position one of {front, left, right, topLeft, topRight}<br /><code>segments,segment1,segment2,…</code> where segments are elements of {Pelvis, LeftUpperLeg, LeftLowerLeg, LeftFoot, RightUpperLeg, RightLowerLeg, RightFoot}<br /><code>switchScene</code> toggle between male and female avatar<br /><code>shadow,on</code> and <code>shadow,off</code> show or hide shadow avatar</td>
</tr>
<tr class="odd">
<td><code>String</code></td>
<td>sendCommandWithReply(<code>String</code> message)</td>
<td>request-reply command. Message options: <br /><code>getCamPosition</code> -&gt; response: current camera position</td>
</tr>
<tr class="even">
<td><code>Int32</code></td>
<td>sendShadowAvatarSegmentRotations(<code>Single[]</code> segment_floats)</td>
<td>send to the shadow avatar new rotations (quaternions) to the initialized segments as list of floats; length of the array must be the 4 * the number of initialized segments; expected quaternion order: (w, x, y, z)</td>
</tr>
</tbody>
</table>
